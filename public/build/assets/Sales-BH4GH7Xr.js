import{r as p,T as j,A as T,o as a,f as r,a as b,w as g,u as d,b as e,t as n,g as z,F as m,k as v,Z as F,d as O,s as I,O as y}from"./app-CLi9EHbr.js";import{_ as M}from"./Modal-DCV9Qxl3.js";const N=e("title",null,`
            Sales
        `,-1),V={class:"max-w-7xl mx-auto mt-8 px-6 lg:px-8"},A={class:"flex space-x-2 items-center mb-4"},B={class:"dark:text-white font-semibold"},L={key:0,class:"dark:text-white w-full bg-white dark:bg-zinc-800 text-left text-sm rounded-lg overflow-hidden"},q=e("thead",null,[e("tr",null,[e("th",{class:"p-4"},"Customer"),e("th",{class:"p-4"},"Time"),e("th",{class:"p-4"},"Order Type"),e("th",{class:"p-4"},"Orders"),e("th",{class:"p-4"},"Quantity"),e("th",{class:"p-4"},"Gross Sales"),e("th",{class:"p-4"},"Net Income"),e("th",{class:"p-4"},"Actions")])],-1),E={class:"bg-white dark:bg-zinc-800 border-b border-zinc-700"},R={class:"px-4 py-2"},G={class:"px-4 py-2"},H={class:"text-xs opacity-70"},K={class:"px-4 py-2"},Q={class:"px-4 py-2"},W={class:"px-4 py-2"},Z={class:"px-4 py-2"},J={class:"px-4 py-2"},P={class:"px-4 py-2"},U={class:"flex space-x-2"},X=e("i",{class:"bx bx-printer dark:text-white inline-flex justify-center items-center p-2 rounded-full bg-green-500 hover:bg-green-700 active:bg-green-900 duration-200 ease-in-out cursor-pointer"},null,-1),Y=["onClick"],ee={class:"bg-white font-bold dark:bg-zinc-800"},te={class:"px-4 py-2"},se=e("td",{class:"px-4 py-2"},null,-1),oe=e("td",{class:"px-4 py-2"},null,-1),ne=e("td",{class:"px-4 py-2"},null,-1),le=e("td",{class:"px-4 py-2"},null,-1),ae={class:"px-4 py-2"},re={class:"px-4 py-2"},ie=e("td",{class:"px-4 py-2"},null,-1),ce={key:1,class:"flex justify-center mt-14"},de=e("div",{class:"flex justify-center items-center flex-col text-zinc-700 dark:text-zinc-400"},[e("i",{class:"bx bx-ghost text-7xl"}),e("p",null,"Oohh... It's empty in here.")],-1),ue=[de],he={class:"dark:text-white p-6"},pe=e("p",{class:"font-bold"},"Confirmation",-1),xe=e("p",{class:"mt-4"},"This transaction record will be deleted. Enter the code to continue.",-1),fe={class:"flex justify-center mt-4 font-bold tracking-wider text-4xl"},be={__name:"Sales",props:{transactions:Object,filters:Object,total:Object},setup(i){const u=i,w=(l,s)=>{const t=Math.ceil(l),o=Math.floor(s);return Math.floor(Math.random()*(o-t+1)+t)},h=p(!1),_=p(null),x=p(""),f=p(null),k=l=>{_.value=l,x.value=w(1e5,999999),h.value=!0,I(()=>f.value.focus())},$=l=>{l==x.value&&y.delete(route("order.cancel",_.value.id),{onStart:()=>f.value.disabled=!0,onSuccess:()=>h.value=!1})},c=u.filters.date?new Date(u.filters.date):new Date,D=c<new Date(new Date().setHours(0,0,0,0)),C=j({search:u.filters.search,date:u.filters.date});T(C,l=>{y.get(route("sales"),l,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const S=o=>{var o=parseInt(o,10),s=Math.floor(o/3600),t=Math.floor((o-s*3600)/60),o=o-s*3600-t*60;return s?t?`${s}h ${t}m ${o}s`:`${s}h ${o}s`:t?`${t}m ${o}s`:`${o}s`};return(l,s)=>(a(),r(m,null,[b(d(F),null,{default:g(()=>[N]),_:1}),e("div",V,[e("div",A,[e("i",{onClick:s[0]||(s[0]=t=>l.$inertia.get(l.route("sales"),{date:new Date(d(c).setDate(d(c).getDate()-1)).toLocaleDateString()})),class:"bx bxs-chevron-left dark:text-white hover:bg-white hover:text-zinc-900 w-6 h-6 inline-flex justify-center items-center rounded-full border dark:border-white"}),e("p",B,n(d(c).toWordFormat()),1),D?(a(),r("i",{key:0,onClick:s[1]||(s[1]=t=>l.$inertia.get(l.route("sales"),{date:new Date(d(c).setDate(d(c).getDate()+1)).toLocaleDateString()})),class:"bx bxs-chevron-right dark:text-white hover:bg-white hover:text-zinc-900 w-6 h-6 inline-flex justify-center items-center rounded-full border dark:border-white"})):z("",!0)]),i.transactions.length?(a(),r("table",L,[q,e("tbody",null,[(a(!0),r(m,null,v(i.transactions,t=>(a(),r("tr",E,[e("td",R,n(t.name??`#${t.number}`),1),e("td",G,[O(n(new Date(t.created_at).toTimeFormat())+" ",1),e("span",H,n(S(t.elapsed)),1)]),e("td",K,n(t.type),1),e("td",Q,[e("div",null,[(a(!0),r(m,null,v(t.items,o=>(a(),r("p",null,n(`${o.name} x${o.quantity}`),1))),256))])]),e("td",W,n(t.quantity),1),e("td",Z,n(t.gross.amountFormat()),1),e("td",J,n((t.gross-t.cost).amountFormat()),1),e("td",P,[e("div",U,[X,e("i",{onClick:o=>k(t),class:"bx bx-trash dark:text-white inline-flex justify-center items-center p-2 rounded-full bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out cursor-pointer"},null,8,Y)])])]))),256)),e("tr",ee,[e("td",te,n(i.transactions.length),1),se,oe,ne,le,e("td",ae,n(i.total.gross.amountFormat()),1),e("td",re,n((i.total.gross-i.total.cost).amountFormat()),1),ie])])])):(a(),r("div",ce,ue))]),b(M,{show:h.value,"max-width":"md",onClose:s[3]||(s[3]=t=>h.value=!1)},{default:g(()=>[e("div",he,[pe,xe,e("div",fe,n(x.value),1),e("input",{ref_key:"codeInput",ref:f,onKeyup:s[2]||(s[2]=t=>$(t.target.value)),class:"bg-zinc-900 w-full rounded-lg mt-2 disabled:opacity-50",type:"text"},null,544)])]),_:1},8,["show"])],64))}};export{be as default};
